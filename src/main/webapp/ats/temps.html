<!DOCTYPE html>
<html>
    <head>
        <title>AuxTel Camera Temperatures</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="//cdnjs.cloudflare.com/ajax/libs/dygraph/1.1.1/dygraph-combined-dev.js"></script>
        <script src="//code.jquery.com/jquery-3.2.1.min.js"></script>
        <script src="/CCSWebTrending/synchronizer.js"></script>
        <script src="/CCSWebTrending/CCSTrending.js"></script>
        <link rel="stylesheet" href="/CCSWebTrending/trending.css"/>
    </head>
    <body>
        <div class="link-interaction">
            <style scoped>.link-interaction a:visited { color: blue; }</style>
            <div id="div_g"></div>
            <b>Zoom:</b>
            <a href="#" id="hour">hour</a> 
            <a href="#" id="3hour">3 hour</a> 
            <a href="#" id="6hour">6 hour</a> 
            <a href="#" id="12hour">12 hour</a> 
            <a href="#" id="day">day</a> 
            <a href="#" id="week">week</a> 
            <a href="#" id="month">month</a>.
            Or drag to select area for zoom, or shift drag to pan
        </div>
        <div id="graph1" style="width:1000px;height:300px"></div>
        <div id="graph2" style="width:1000px;height:300px"></div>
        <div id="graph3" style="width:1000px;height:300px"></div>
        <script type="text/javascript">
            g1 = new CCSTrendingPlot(
                    document.getElementById("graph1"), {
                range: '1d',
                restURL: '/CCSWebTrending/rest/ats',
                ylabel: 'Temperature (°C)',
                title: 'CCD temperatures',
                data: {
                    566: {title: "Cryocon CCD Temerature"},
                    26:  {title: "WREB CCD Temperature"},
                }
            });
            g2 = new CCSTrendingPlot(
                    document.getElementById("graph2"), {
                range: '1d',
                restURL: '/CCSWebTrending/rest/ats',
                ylabel: 'Temperature (°C)',
                title: 'WREB board temperatures',
                data: {
                    18: {title: "Temp 1"},
                    19: {title: "Temp 2"},
                    20: {title: "Temp 3"},
                    21: {title: "Temp 4"},
                    22: {title: "Temp 5"},
                    23: {title: "Temp 6"},
                    24: {title: "Aspic U"},
                    25: {title: "Aspic L"},
               }
            });
            g3 = new CCSTrendingPlot(
                    document.getElementById("graph3"), {
                range: '1d',
                restURL: '/CCSWebTrending/rest/ats',
                ylabel: 'Temperature (°C)',
                title: 'Cold/Cryo temperatures',
                data: {
                    567: {title: "Cold"},
                    568: {title: "Cryo"}
                }
            });
            synchronize(g1,g2,g3);
            var zoom = function(time) { g1.zoom(time); g2.zoom(time); g3.zoom(time);};
            $('#hour').click(function() { zoom(3600); }); 
            $('#3hour').click(function() { zoom(3*3600); });
            $('#6hour').click(function() { zoom(6*3600); });
            $('#12hour').click(function() { zoom(12*3600); });
            $('#day').click(function() { zoom(86400); });
            $('#week').click(function() { zoom(604800); });
            $('#month').click(function() { zoom(30 * 86400); });
        </script>
    </body>

</html>